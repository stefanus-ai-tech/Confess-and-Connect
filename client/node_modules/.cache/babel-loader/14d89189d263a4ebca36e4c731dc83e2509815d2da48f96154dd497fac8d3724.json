{"ast":null,"code":"// client/src/components/ChatWindow.js\nimport React,{useState,useEffect,useRef}from\"react\";import{Container,Typography,Box,TextField,IconButton,List,ListItem,ListItemText,Avatar,Button,Snackbar,Alert}from\"@mui/material\";import SendIcon from\"@mui/icons-material/Send\";import LocalFireDepartmentIcon from\"@mui/icons-material/LocalFireDepartment\";// Correct Icon Import\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatWindow=_ref=>{let{socket,role,roomId,onBurnConfession}=_ref;const[messages,setMessages]=useState([]);const[input,setInput]=useState(\"\");const[burn,setBurn]=useState(false);const[error,setError]=useState(\"\");// State variables for \"I'm Listening\" button\nconst[canSendListening,setCanSendListening]=useState(false);const[cooldown,setCooldown]=useState(0);const cooldownDuration=10;// Cooldown duration in seconds\nconst cooldownRef=useRef(null);const messagesEndRef=useRef(null);useEffect(()=>{// Listen for incoming messages\nsocket.on(\"receive_message\",data=>{setMessages(prev=>[...prev,{from:data.from,message:data.message}]);// Enable the \"I'm Listening\" button when a new message is received from Confessor\nif(role===\"listener\"&&data.from===\"Confessor\"){setCanSendListening(true);}});// Listen for burn confession\nsocket.on(\"burn_confession\",()=>{setBurn(true);setTimeout(()=>{setBurn(false);setMessages([]);if(onBurnConfession)onBurnConfession();},3000);// Duration of burn.gif\n});// Listen for confession burned notification\nsocket.on(\"confession_burned\",()=>{setBurn(true);setTimeout(()=>{setBurn(false);setMessages([]);if(onBurnConfession)onBurnConfession();},3000);// Duration of burn.gif\n});// Listen for connection errors\nsocket.on(\"connect_error\",()=>{setError(\"Connection failed. Please try again.\");});// Listen for error messages from the server\nsocket.on(\"error_message\",msg=>{setError(msg);});// Listen for message sent acknowledgments\nsocket.on(\"message_sent\",msg=>{// Optionally handle acknowledgments\nconsole.log(\"Message sent:\",msg);});// Listen for participant disconnection\nsocket.on(\"participant_disconnected\",()=>{// Optionally handle disconnections\nalert(\"Your chat partner has disconnected.\");});// Cleanup on unmount\nreturn()=>{socket.off(\"receive_message\");socket.off(\"burn_confession\");socket.off(\"confession_burned\");socket.off(\"connect_error\");socket.off(\"error_message\");socket.off(\"message_sent\");socket.off(\"participant_disconnected\");if(cooldownRef.current)clearInterval(cooldownRef.current);};},[socket,role,onBurnConfession]);useEffect(()=>{var _messagesEndRef$curre;// Scroll to the bottom when messages update\n(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:\"smooth\"});},[messages,burn]);const sendMessage=()=>{if(input.trim()===\"\")return;const messageData={message:input,mode:\"normal\"};socket.emit(\"send_message\",messageData);setMessages(prev=>[...prev,{from:\"you\",message:input}]);setInput(\"\");};const sendListening=()=>{const messageData={message:\"I'm listening\",mode:\"listening\"// Updated mode\n};socket.emit(\"send_message\",messageData);setMessages(prev=>[...prev,{from:\"you\",message:\"I'm listening\"}]);// Disable the button and start cooldown\nsetCanSendListening(false);setCooldown(cooldownDuration);cooldownRef.current=setInterval(()=>{setCooldown(prev=>{if(prev<=1){clearInterval(cooldownRef.current);return 0;}return prev-1;});},1000);};const sendBurnConfession=()=>{socket.emit(\"send_message\",{message:\"\",mode:\"solo\"});};const handleClose=()=>{setError(\"\");};if(burn){return/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",sx:{textAlign:\"center\",mt:5},children:[/*#__PURE__*/_jsx(\"img\",{src:\"/burn.gif\",alt:\"Burning Confession\",width:\"300\",height:\"300\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",sx:{mt:2,color:\"#fff\"},children:\"Your confession has been burned. It\\u2019s gone now.\"})]});}return/*#__PURE__*/_jsxs(Container,{maxWidth:\"sm\",sx:{mt:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,sx:{color:\"#fff\"},children:role===\"confessor\"?\"Confessor\":\"Listener\"}),/*#__PURE__*/_jsx(Box,{sx:{height:\"60vh\",border:\"1px solid #444\",// Darker border\nborderRadius:\"8px\",p:2,overflowY:\"auto\",backgroundColor:\"#1e1e1e\"// Dark background\n},children:/*#__PURE__*/_jsxs(List,{children:[messages.map((msg,index)=>/*#__PURE__*/_jsxs(ListItem,{alignItems:\"flex-start\",children:[/*#__PURE__*/_jsx(Avatar,{sx:{bgcolor:msg.from===\"you\"?\"error.main\":\"primary.main\",mr:2},children:msg.from===\"you\"?\"Y\":msg.from===\"Confessor\"?\"C\":\"L\"}),/*#__PURE__*/_jsx(ListItemText,{primary:msg.from===\"you\"?\"You\":msg.from===\"Confessor\"?\"Confessor\":\"Listener\",secondary:msg.message,sx:{textAlign:msg.from===\"you\"?\"right\":\"left\",color:\"#fff\"// White text for readability\n}})]},index)),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]})}),role===\"confessor\"?/*#__PURE__*/_jsxs(Box,{sx:{display:\"flex\",mt:2},children:[/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",placeholder:\"Type your confession...\",fullWidth:true,value:input,onChange:e=>setInput(e.target.value),onKeyPress:e=>{if(e.key===\"Enter\")sendMessage();},sx:{input:{color:\"#fff\"},// White text in input\nbackgroundColor:\"#333\",// Dark input background\nborderRadius:\"4px\",\"& .MuiOutlinedInput-root\":{\"& fieldset\":{borderColor:\"#d32f2f\"},// Red border\n\"&:hover fieldset\":{borderColor:\"#ff6659\"},// Lighter red on hover\n\"&.Mui-focused fieldset\":{borderColor:\"#ff6659\"}// Lighter red on focus\n}}}),/*#__PURE__*/_jsx(IconButton,{color:\"error\",onClick:sendMessage,children:/*#__PURE__*/_jsx(SendIcon,{})})]}):/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",mt:2},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"error\",startIcon:/*#__PURE__*/_jsx(LocalFireDepartmentIcon,{}),onClick:sendListening,disabled:!canSendListening||cooldown>0,sx:{textTransform:\"none\",fontSize:\"16px\",padding:\"10px 20px\",backgroundColor:canSendListening&&cooldown===0?\"#d32f2f\":\"#555\",transition:\"background-color 0.3s ease, opacity 0.3s ease\",\"&:hover\":{backgroundColor:canSendListening&&cooldown===0?\"#ff6659\":\"#555\"},opacity:canSendListening?1:0.6},children:cooldown>0?`I'm Listening (${cooldown})`:\"I'm Listening\"})}),role===\"confessor\"&&/*#__PURE__*/_jsx(Box,{sx:{display:\"flex\",justifyContent:\"flex-end\",mt:1},children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"error\",startIcon:/*#__PURE__*/_jsx(LocalFireDepartmentIcon,{})// Updated Icon\n,onClick:sendBurnConfession,sx:{textTransform:\"none\",fontSize:\"16px\",padding:\"10px 20px\",backgroundColor:\"#d32f2f\",transition:\"background-color 0.3s ease\",\"&:hover\":{backgroundColor:\"#ff6659\"}},children:\"Burn Confession\"})}),/*#__PURE__*/_jsx(Snackbar,{open:!!error,autoHideDuration:6000,onClose:handleClose,children:/*#__PURE__*/_jsx(Alert,{onClose:handleClose,severity:\"error\",sx:{width:\"100%\"},children:error})})]});};export default ChatWindow;","map":{"version":3,"names":["React","useState","useEffect","useRef","Container","Typography","Box","TextField","IconButton","List","ListItem","ListItemText","Avatar","Button","Snackbar","Alert","SendIcon","LocalFireDepartmentIcon","jsx","_jsx","jsxs","_jsxs","ChatWindow","_ref","socket","role","roomId","onBurnConfession","messages","setMessages","input","setInput","burn","setBurn","error","setError","canSendListening","setCanSendListening","cooldown","setCooldown","cooldownDuration","cooldownRef","messagesEndRef","on","data","prev","from","message","setTimeout","msg","console","log","alert","off","current","clearInterval","_messagesEndRef$curre","scrollIntoView","behavior","sendMessage","trim","messageData","mode","emit","sendListening","setInterval","sendBurnConfession","handleClose","maxWidth","sx","textAlign","mt","children","src","alt","width","height","variant","color","gutterBottom","border","borderRadius","p","overflowY","backgroundColor","map","index","alignItems","bgcolor","mr","primary","secondary","ref","display","placeholder","fullWidth","value","onChange","e","target","onKeyPress","key","borderColor","onClick","flexDirection","startIcon","disabled","textTransform","fontSize","padding","transition","opacity","justifyContent","open","autoHideDuration","onClose","severity"],"sources":["/home/adri/Documents/confessTest/confess-and-connect/client/src/components/ChatWindow.js"],"sourcesContent":["// client/src/components/ChatWindow.js\nimport React, { useState, useEffect, useRef } from \"react\";\nimport {\n  Container,\n  Typography,\n  Box,\n  TextField,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Avatar,\n  Button,\n  Snackbar,\n  Alert,\n} from \"@mui/material\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport LocalFireDepartmentIcon from \"@mui/icons-material/LocalFireDepartment\"; // Correct Icon Import\n\nconst ChatWindow = ({ socket, role, roomId, onBurnConfession }) => {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [burn, setBurn] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // State variables for \"I'm Listening\" button\n  const [canSendListening, setCanSendListening] = useState(false);\n  const [cooldown, setCooldown] = useState(0);\n  const cooldownDuration = 10; // Cooldown duration in seconds\n  const cooldownRef = useRef(null);\n\n  const messagesEndRef = useRef(null);\n\n  useEffect(() => {\n    // Listen for incoming messages\n    socket.on(\"receive_message\", (data) => {\n      setMessages((prev) => [\n        ...prev,\n        { from: data.from, message: data.message },\n      ]);\n\n      // Enable the \"I'm Listening\" button when a new message is received from Confessor\n      if (role === \"listener\" && data.from === \"Confessor\") {\n        setCanSendListening(true);\n      }\n    });\n\n    // Listen for burn confession\n    socket.on(\"burn_confession\", () => {\n      setBurn(true);\n      setTimeout(() => {\n        setBurn(false);\n        setMessages([]);\n        if (onBurnConfession) onBurnConfession();\n      }, 3000); // Duration of burn.gif\n    });\n\n    // Listen for confession burned notification\n    socket.on(\"confession_burned\", () => {\n      setBurn(true);\n      setTimeout(() => {\n        setBurn(false);\n        setMessages([]);\n        if (onBurnConfession) onBurnConfession();\n      }, 3000); // Duration of burn.gif\n    });\n\n    // Listen for connection errors\n    socket.on(\"connect_error\", () => {\n      setError(\"Connection failed. Please try again.\");\n    });\n\n    // Listen for error messages from the server\n    socket.on(\"error_message\", (msg) => {\n      setError(msg);\n    });\n\n    // Listen for message sent acknowledgments\n    socket.on(\"message_sent\", (msg) => {\n      // Optionally handle acknowledgments\n      console.log(\"Message sent:\", msg);\n    });\n\n    // Listen for participant disconnection\n    socket.on(\"participant_disconnected\", () => {\n      // Optionally handle disconnections\n      alert(\"Your chat partner has disconnected.\");\n    });\n\n    // Cleanup on unmount\n    return () => {\n      socket.off(\"receive_message\");\n      socket.off(\"burn_confession\");\n      socket.off(\"confession_burned\");\n      socket.off(\"connect_error\");\n      socket.off(\"error_message\");\n      socket.off(\"message_sent\");\n      socket.off(\"participant_disconnected\");\n      if (cooldownRef.current) clearInterval(cooldownRef.current);\n    };\n  }, [socket, role, onBurnConfession]);\n\n  useEffect(() => {\n    // Scroll to the bottom when messages update\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages, burn]);\n\n  const sendMessage = () => {\n    if (input.trim() === \"\") return;\n    const messageData = {\n      message: input,\n      mode: \"normal\",\n    };\n    socket.emit(\"send_message\", messageData);\n    setMessages((prev) => [...prev, { from: \"you\", message: input }]);\n    setInput(\"\");\n  };\n\n  const sendListening = () => {\n    const messageData = {\n      message: \"I'm listening\",\n      mode: \"listening\", // Updated mode\n    };\n    socket.emit(\"send_message\", messageData);\n    setMessages((prev) => [...prev, { from: \"you\", message: \"I'm listening\" }]);\n\n    // Disable the button and start cooldown\n    setCanSendListening(false);\n    setCooldown(cooldownDuration);\n\n    cooldownRef.current = setInterval(() => {\n      setCooldown((prev) => {\n        if (prev <= 1) {\n          clearInterval(cooldownRef.current);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n  };\n\n  const sendBurnConfession = () => {\n    socket.emit(\"send_message\", { message: \"\", mode: \"solo\" });\n  };\n\n  const handleClose = () => {\n    setError(\"\");\n  };\n\n  if (burn) {\n    return (\n      <Container maxWidth=\"sm\" sx={{ textAlign: \"center\", mt: 5 }}>\n        <img\n          src=\"/burn.gif\"\n          alt=\"Burning Confession\"\n          width=\"300\"\n          height=\"300\"\n        />\n        <Typography variant=\"h6\" sx={{ mt: 2, color: \"#fff\" }}>\n          Your confession has been burned. It’s gone now.\n        </Typography>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ mt: 2 }}>\n      <Typography variant=\"h5\" gutterBottom sx={{ color: \"#fff\" }}>\n        {role === \"confessor\" ? \"Confessor\" : \"Listener\"}\n      </Typography>\n      <Box\n        sx={{\n          height: \"60vh\",\n          border: \"1px solid #444\", // Darker border\n          borderRadius: \"8px\",\n          p: 2,\n          overflowY: \"auto\",\n          backgroundColor: \"#1e1e1e\", // Dark background\n        }}\n      >\n        <List>\n          {messages.map((msg, index) => (\n            <ListItem key={index} alignItems=\"flex-start\">\n              <Avatar\n                sx={{\n                  bgcolor: msg.from === \"you\" ? \"error.main\" : \"primary.main\",\n                  mr: 2,\n                }}\n              >\n                {msg.from === \"you\"\n                  ? \"Y\"\n                  : msg.from === \"Confessor\"\n                  ? \"C\"\n                  : \"L\"}\n              </Avatar>\n              <ListItemText\n                primary={\n                  msg.from === \"you\"\n                    ? \"You\"\n                    : msg.from === \"Confessor\"\n                    ? \"Confessor\"\n                    : \"Listener\"\n                }\n                secondary={msg.message}\n                sx={{\n                  textAlign: msg.from === \"you\" ? \"right\" : \"left\",\n                  color: \"#fff\", // White text for readability\n                }}\n              />\n            </ListItem>\n          ))}\n          <div ref={messagesEndRef} />\n        </List>\n      </Box>\n\n      {role === \"confessor\" ? (\n        <Box sx={{ display: \"flex\", mt: 2 }}>\n          <TextField\n            variant=\"outlined\"\n            placeholder=\"Type your confession...\"\n            fullWidth\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            onKeyPress={(e) => {\n              if (e.key === \"Enter\") sendMessage();\n            }}\n            sx={{\n              input: { color: \"#fff\" }, // White text in input\n              backgroundColor: \"#333\", // Dark input background\n              borderRadius: \"4px\",\n              \"& .MuiOutlinedInput-root\": {\n                \"& fieldset\": { borderColor: \"#d32f2f\" }, // Red border\n                \"&:hover fieldset\": { borderColor: \"#ff6659\" }, // Lighter red on hover\n                \"&.Mui-focused fieldset\": { borderColor: \"#ff6659\" }, // Lighter red on focus\n              },\n            }}\n          />\n          <IconButton color=\"error\" onClick={sendMessage}>\n            <SendIcon />\n          </IconButton>\n        </Box>\n      ) : (\n        <Box\n          sx={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            mt: 2,\n          }}\n        >\n          <Button\n            variant=\"contained\"\n            color=\"error\"\n            startIcon={<LocalFireDepartmentIcon />}\n            onClick={sendListening}\n            disabled={!canSendListening || cooldown > 0}\n            sx={{\n              textTransform: \"none\",\n              fontSize: \"16px\",\n              padding: \"10px 20px\",\n              backgroundColor:\n                canSendListening && cooldown === 0 ? \"#d32f2f\" : \"#555\",\n              transition: \"background-color 0.3s ease, opacity 0.3s ease\",\n              \"&:hover\": {\n                backgroundColor:\n                  canSendListening && cooldown === 0 ? \"#ff6659\" : \"#555\",\n              },\n              opacity: canSendListening ? 1 : 0.6,\n            }}\n          >\n            {cooldown > 0 ? `I'm Listening (${cooldown})` : \"I'm Listening\"}\n          </Button>\n        </Box>\n      )}\n\n      {role === \"confessor\" && (\n        <Box sx={{ display: \"flex\", justifyContent: \"flex-end\", mt: 1 }}>\n          <Button\n            variant=\"contained\"\n            color=\"error\"\n            startIcon={<LocalFireDepartmentIcon />} // Updated Icon\n            onClick={sendBurnConfession}\n            sx={{\n              textTransform: \"none\",\n              fontSize: \"16px\",\n              padding: \"10px 20px\",\n              backgroundColor: \"#d32f2f\",\n              transition: \"background-color 0.3s ease\",\n              \"&:hover\": {\n                backgroundColor: \"#ff6659\",\n              },\n            }}\n          >\n            Burn Confession\n          </Button>\n        </Box>\n      )}\n\n      {/* Error Notification */}\n      <Snackbar open={!!error} autoHideDuration={6000} onClose={handleClose}>\n        <Alert onClose={handleClose} severity=\"error\" sx={{ width: \"100%\" }}>\n          {error}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n};\n\nexport default ChatWindow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}