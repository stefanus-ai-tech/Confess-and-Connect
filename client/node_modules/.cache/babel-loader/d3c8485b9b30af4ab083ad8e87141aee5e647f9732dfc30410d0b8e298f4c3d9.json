{"ast":null,"code":"var _jsxFileName = \"/home/adri/Documents/confessTest/confess-and-connect/client/src/components/ChatWindow.js\",\n  _s = $RefreshSig$();\n// client/src/components/ChatWindow.js\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Container, Typography, Box, TextField, IconButton, List, ListItem, ListItemText, Avatar, Button, Snackbar, Alert } from \"@mui/material\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport LocalFireDepartmentIcon from \"@mui/icons-material/LocalFireDepartment\"; // Correct Icon Import\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatWindow = ({\n  socket,\n  role,\n  onBurnConfession\n}) => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [burn, setBurn] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // New state variables for \"I'm Listening\" button\n  const [canSendListening, setCanSendListening] = useState(false);\n  const [cooldown, setCooldown] = useState(0);\n  const cooldownDuration = 10; // Cooldown duration in seconds\n  const cooldownRef = useRef(null);\n  const messagesEndRef = useRef(null);\n  useEffect(() => {\n    // Listen for incoming messages\n    socket.on(\"receive_message\", data => {\n      setMessages(prev => [...prev, {\n        from: data.from,\n        message: data.message\n      }]);\n\n      // Enable the \"I'm Listening\" button when a new message is received from Confessor\n      if (role === \"listener\") {\n        setCanSendListening(true);\n      }\n    });\n\n    // Listen for burn confession\n    socket.on(\"burn_confession\", () => {\n      setBurn(true);\n      setTimeout(() => {\n        setBurn(false);\n        setMessages([]);\n        if (onBurnConfession) onBurnConfession();\n      }, 3000); // Duration of burn.gif\n    });\n\n    // Listen for connection errors\n    socket.on(\"connect_error\", () => {\n      setError(\"Connection failed. Please try again.\");\n    });\n\n    // Listen for error messages from the server\n    socket.on(\"error_message\", msg => {\n      setError(msg);\n    });\n\n    // Listen for message sent acknowledgments\n    socket.on(\"message_sent\", msg => {\n      // Optionally handle acknowledgments\n      console.log(\"Message sent:\", msg);\n    });\n\n    // Cleanup on unmount\n    return () => {\n      socket.off(\"receive_message\");\n      socket.off(\"burn_confession\");\n      socket.off(\"connect_error\");\n      socket.off(\"error_message\");\n      socket.off(\"message_sent\");\n      if (cooldownRef.current) clearInterval(cooldownRef.current);\n    };\n  }, [socket, role, onBurnConfession]);\n  useEffect(() => {\n    var _messagesEndRef$curre;\n    // Scroll to the bottom when messages update\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, [messages, burn]);\n  const sendMessage = () => {\n    if (input.trim() === \"\") return;\n    const messageData = {\n      message: input,\n      mode: \"normal\"\n    };\n    socket.emit(\"send_message\", messageData);\n    setMessages(prev => [...prev, {\n      from: \"you\",\n      message: input\n    }]);\n    setInput(\"\");\n  };\n  const sendListening = () => {\n    const messageData = {\n      message: \"I'm listening\",\n      mode: \"listening\" // Updated mode\n    };\n    socket.emit(\"send_message\", messageData);\n    setMessages(prev => [...prev, {\n      from: \"you\",\n      message: \"I'm listening\"\n    }]);\n\n    // Disable the button and start cooldown\n    setCanSendListening(false);\n    setCooldown(cooldownDuration);\n    cooldownRef.current = setInterval(() => {\n      setCooldown(prev => {\n        if (prev <= 1) {\n          clearInterval(cooldownRef.current);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n  };\n  const sendBurnConfession = () => {\n    socket.emit(\"send_message\", {\n      message: \"\",\n      mode: \"solo\"\n    });\n  };\n  const handleClose = () => {\n    setError(\"\");\n  };\n  if (burn) {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      maxWidth: \"sm\",\n      sx: {\n        textAlign: \"center\",\n        mt: 5\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/burn.gif\",\n        alt: \"Burning Confession\",\n        width: \"300\",\n        height: \"300\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h6\",\n        sx: {\n          mt: 2,\n          color: \"#fff\"\n        },\n        children: \"Your confession has been burned. It\\u2019s gone now.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    sx: {\n      mt: 2\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      gutterBottom: true,\n      sx: {\n        color: \"#fff\"\n      },\n      children: role === \"confessor\" ? \"Confessor\" : \"Listener\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        height: \"60vh\",\n        border: \"1px solid #444\",\n        // Darker border\n        borderRadius: \"8px\",\n        p: 2,\n        overflowY: \"auto\",\n        backgroundColor: \"#1e1e1e\" // Dark background\n      },\n      children: /*#__PURE__*/_jsxDEV(List, {\n        children: [messages.map((msg, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n          alignItems: \"flex-start\",\n          children: [/*#__PURE__*/_jsxDEV(Avatar, {\n            sx: {\n              bgcolor: msg.from === \"you\" ? \"error.main\" : \"primary.main\",\n              mr: 2\n            },\n            children: msg.from === \"you\" ? \"Y\" : \"L\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: msg.from === \"you\" ? \"You\" : \"Listener\",\n            secondary: msg.message,\n            sx: {\n              textAlign: msg.from === \"you\" ? \"right\" : \"left\",\n              color: \"#fff\" // White text for readability\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), role === \"confessor\" ? /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: \"flex\",\n        mt: 2\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        variant: \"outlined\",\n        placeholder: \"Type your message...\",\n        fullWidth: true,\n        value: input,\n        onChange: e => setInput(e.target.value),\n        onKeyPress: e => {\n          if (e.key === \"Enter\") sendMessage();\n        },\n        sx: {\n          input: {\n            color: \"#fff\"\n          },\n          // White text in input\n          backgroundColor: \"#333\",\n          // Dark input background\n          borderRadius: \"4px\",\n          \"& .MuiOutlinedInput-root\": {\n            \"& fieldset\": {\n              borderColor: \"#d32f2f\"\n            },\n            // Red border\n            \"&:hover fieldset\": {\n              borderColor: \"#ff6659\"\n            },\n            // Lighter red on hover\n            \"&.Mui-focused fieldset\": {\n              borderColor: \"#ff6659\"\n            } // Lighter red on focus\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        color: \"error\",\n        onClick: sendMessage,\n        children: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        mt: 2\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"error\",\n        startIcon: /*#__PURE__*/_jsxDEV(LocalFireDepartmentIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 24\n        }, this),\n        onClick: sendListening,\n        disabled: !canSendListening || cooldown > 0,\n        sx: {\n          textTransform: \"none\",\n          fontSize: \"16px\",\n          padding: \"10px 20px\",\n          backgroundColor: canSendListening && cooldown === 0 ? \"#d32f2f\" : \"#555\",\n          transition: \"background-color 0.3s ease, opacity 0.3s ease\",\n          \"&:hover\": {\n            backgroundColor: canSendListening && cooldown === 0 ? \"#ff6659\" : \"#555\"\n          },\n          opacity: canSendListening ? 1 : 0.6\n        },\n        children: cooldown > 0 ? `I'm Listening (${cooldown})` : \"I'm Listening\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }, this), role === \"confessor\" && /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        mt: 1\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"contained\",\n        color: \"error\",\n        startIcon: /*#__PURE__*/_jsxDEV(LocalFireDepartmentIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 24\n        }, this) // Updated Icon\n        ,\n        onClick: sendBurnConfession,\n        sx: {\n          textTransform: \"none\",\n          fontSize: \"16px\",\n          padding: \"10px 20px\",\n          backgroundColor: \"#d32f2f\",\n          transition: \"background-color 0.3s ease\",\n          \"&:hover\": {\n            backgroundColor: \"#ff6659\"\n          }\n        },\n        children: \"Burn Confession\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      open: !!error,\n      autoHideDuration: 6000,\n      onClose: handleClose,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: handleClose,\n        severity: \"error\",\n        sx: {\n          width: \"100%\"\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 5\n  }, this);\n};\n_s(ChatWindow, \"GFPPYKwu/JvYCEZHzbPYJ/qH4OA=\");\n_c = ChatWindow;\nexport default ChatWindow;\nvar _c;\n$RefreshReg$(_c, \"ChatWindow\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Container","Typography","Box","TextField","IconButton","List","ListItem","ListItemText","Avatar","Button","Snackbar","Alert","SendIcon","LocalFireDepartmentIcon","jsxDEV","_jsxDEV","ChatWindow","socket","role","onBurnConfession","_s","messages","setMessages","input","setInput","burn","setBurn","error","setError","canSendListening","setCanSendListening","cooldown","setCooldown","cooldownDuration","cooldownRef","messagesEndRef","on","data","prev","from","message","setTimeout","msg","console","log","off","current","clearInterval","_messagesEndRef$curre","scrollIntoView","behavior","sendMessage","trim","messageData","mode","emit","sendListening","setInterval","sendBurnConfession","handleClose","maxWidth","sx","textAlign","mt","children","src","alt","width","height","fileName","_jsxFileName","lineNumber","columnNumber","variant","color","gutterBottom","border","borderRadius","p","overflowY","backgroundColor","map","index","alignItems","bgcolor","mr","primary","secondary","ref","display","placeholder","fullWidth","value","onChange","e","target","onKeyPress","key","borderColor","onClick","flexDirection","startIcon","disabled","textTransform","fontSize","padding","transition","opacity","justifyContent","open","autoHideDuration","onClose","severity","_c","$RefreshReg$"],"sources":["/home/adri/Documents/confessTest/confess-and-connect/client/src/components/ChatWindow.js"],"sourcesContent":["// client/src/components/ChatWindow.js\nimport React, { useState, useEffect, useRef } from \"react\";\nimport {\n  Container,\n  Typography,\n  Box,\n  TextField,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Avatar,\n  Button,\n  Snackbar,\n  Alert,\n} from \"@mui/material\";\nimport SendIcon from \"@mui/icons-material/Send\";\nimport LocalFireDepartmentIcon from \"@mui/icons-material/LocalFireDepartment\"; // Correct Icon Import\n\nconst ChatWindow = ({ socket, role, onBurnConfession }) => {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [burn, setBurn] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  // New state variables for \"I'm Listening\" button\n  const [canSendListening, setCanSendListening] = useState(false);\n  const [cooldown, setCooldown] = useState(0);\n  const cooldownDuration = 10; // Cooldown duration in seconds\n  const cooldownRef = useRef(null);\n\n  const messagesEndRef = useRef(null);\n\n  useEffect(() => {\n    // Listen for incoming messages\n    socket.on(\"receive_message\", (data) => {\n      setMessages((prev) => [\n        ...prev,\n        { from: data.from, message: data.message },\n      ]);\n\n      // Enable the \"I'm Listening\" button when a new message is received from Confessor\n      if (role === \"listener\") {\n        setCanSendListening(true);\n      }\n    });\n\n    // Listen for burn confession\n    socket.on(\"burn_confession\", () => {\n      setBurn(true);\n      setTimeout(() => {\n        setBurn(false);\n        setMessages([]);\n        if (onBurnConfession) onBurnConfession();\n      }, 3000); // Duration of burn.gif\n    });\n\n    // Listen for connection errors\n    socket.on(\"connect_error\", () => {\n      setError(\"Connection failed. Please try again.\");\n    });\n\n    // Listen for error messages from the server\n    socket.on(\"error_message\", (msg) => {\n      setError(msg);\n    });\n\n    // Listen for message sent acknowledgments\n    socket.on(\"message_sent\", (msg) => {\n      // Optionally handle acknowledgments\n      console.log(\"Message sent:\", msg);\n    });\n\n    // Cleanup on unmount\n    return () => {\n      socket.off(\"receive_message\");\n      socket.off(\"burn_confession\");\n      socket.off(\"connect_error\");\n      socket.off(\"error_message\");\n      socket.off(\"message_sent\");\n      if (cooldownRef.current) clearInterval(cooldownRef.current);\n    };\n  }, [socket, role, onBurnConfession]);\n\n  useEffect(() => {\n    // Scroll to the bottom when messages update\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [messages, burn]);\n\n  const sendMessage = () => {\n    if (input.trim() === \"\") return;\n    const messageData = {\n      message: input,\n      mode: \"normal\",\n    };\n    socket.emit(\"send_message\", messageData);\n    setMessages((prev) => [...prev, { from: \"you\", message: input }]);\n    setInput(\"\");\n  };\n\n  const sendListening = () => {\n    const messageData = {\n      message: \"I'm listening\",\n      mode: \"listening\", // Updated mode\n    };\n    socket.emit(\"send_message\", messageData);\n    setMessages((prev) => [...prev, { from: \"you\", message: \"I'm listening\" }]);\n\n    // Disable the button and start cooldown\n    setCanSendListening(false);\n    setCooldown(cooldownDuration);\n\n    cooldownRef.current = setInterval(() => {\n      setCooldown((prev) => {\n        if (prev <= 1) {\n          clearInterval(cooldownRef.current);\n          return 0;\n        }\n        return prev - 1;\n      });\n    }, 1000);\n  };\n\n  const sendBurnConfession = () => {\n    socket.emit(\"send_message\", { message: \"\", mode: \"solo\" });\n  };\n\n  const handleClose = () => {\n    setError(\"\");\n  };\n\n  if (burn) {\n    return (\n      <Container maxWidth=\"sm\" sx={{ textAlign: \"center\", mt: 5 }}>\n        <img\n          src=\"/burn.gif\"\n          alt=\"Burning Confession\"\n          width=\"300\"\n          height=\"300\"\n        />\n        <Typography variant=\"h6\" sx={{ mt: 2, color: \"#fff\" }}>\n          Your confession has been burned. It’s gone now.\n        </Typography>\n      </Container>\n    );\n  }\n\n  return (\n    <Container maxWidth=\"sm\" sx={{ mt: 2 }}>\n      <Typography variant=\"h5\" gutterBottom sx={{ color: \"#fff\" }}>\n        {role === \"confessor\" ? \"Confessor\" : \"Listener\"}\n      </Typography>\n      <Box\n        sx={{\n          height: \"60vh\",\n          border: \"1px solid #444\", // Darker border\n          borderRadius: \"8px\",\n          p: 2,\n          overflowY: \"auto\",\n          backgroundColor: \"#1e1e1e\", // Dark background\n        }}\n      >\n        <List>\n          {messages.map((msg, index) => (\n            <ListItem key={index} alignItems=\"flex-start\">\n              <Avatar\n                sx={{\n                  bgcolor: msg.from === \"you\" ? \"error.main\" : \"primary.main\",\n                  mr: 2,\n                }}\n              >\n                {msg.from === \"you\" ? \"Y\" : \"L\"}\n              </Avatar>\n              <ListItemText\n                primary={msg.from === \"you\" ? \"You\" : \"Listener\"}\n                secondary={msg.message}\n                sx={{\n                  textAlign: msg.from === \"you\" ? \"right\" : \"left\",\n                  color: \"#fff\", // White text for readability\n                }}\n              />\n            </ListItem>\n          ))}\n          <div ref={messagesEndRef} />\n        </List>\n      </Box>\n\n      {role === \"confessor\" ? (\n        <Box sx={{ display: \"flex\", mt: 2 }}>\n          <TextField\n            variant=\"outlined\"\n            placeholder=\"Type your message...\"\n            fullWidth\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            onKeyPress={(e) => {\n              if (e.key === \"Enter\") sendMessage();\n            }}\n            sx={{\n              input: { color: \"#fff\" }, // White text in input\n              backgroundColor: \"#333\", // Dark input background\n              borderRadius: \"4px\",\n              \"& .MuiOutlinedInput-root\": {\n                \"& fieldset\": { borderColor: \"#d32f2f\" }, // Red border\n                \"&:hover fieldset\": { borderColor: \"#ff6659\" }, // Lighter red on hover\n                \"&.Mui-focused fieldset\": { borderColor: \"#ff6659\" }, // Lighter red on focus\n              },\n            }}\n          />\n          <IconButton color=\"error\" onClick={sendMessage}>\n            <SendIcon />\n          </IconButton>\n        </Box>\n      ) : (\n        <Box\n          sx={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            mt: 2,\n          }}\n        >\n          <Button\n            variant=\"contained\"\n            color=\"error\"\n            startIcon={<LocalFireDepartmentIcon />}\n            onClick={sendListening}\n            disabled={!canSendListening || cooldown > 0}\n            sx={{\n              textTransform: \"none\",\n              fontSize: \"16px\",\n              padding: \"10px 20px\",\n              backgroundColor:\n                canSendListening && cooldown === 0 ? \"#d32f2f\" : \"#555\",\n              transition: \"background-color 0.3s ease, opacity 0.3s ease\",\n              \"&:hover\": {\n                backgroundColor:\n                  canSendListening && cooldown === 0 ? \"#ff6659\" : \"#555\",\n              },\n              opacity: canSendListening ? 1 : 0.6,\n            }}\n          >\n            {cooldown > 0 ? `I'm Listening (${cooldown})` : \"I'm Listening\"}\n          </Button>\n        </Box>\n      )}\n\n      {role === \"confessor\" && (\n        <Box sx={{ display: \"flex\", justifyContent: \"flex-end\", mt: 1 }}>\n          <Button\n            variant=\"contained\"\n            color=\"error\"\n            startIcon={<LocalFireDepartmentIcon />} // Updated Icon\n            onClick={sendBurnConfession}\n            sx={{\n              textTransform: \"none\",\n              fontSize: \"16px\",\n              padding: \"10px 20px\",\n              backgroundColor: \"#d32f2f\",\n              transition: \"background-color 0.3s ease\",\n              \"&:hover\": {\n                backgroundColor: \"#ff6659\",\n              },\n            }}\n          >\n            Burn Confession\n          </Button>\n        </Box>\n      )}\n\n      {/* Error Notification */}\n      <Snackbar open={!!error} autoHideDuration={6000} onClose={handleClose}>\n        <Alert onClose={handleClose} severity=\"error\" sx={{ width: \"100%\" }}>\n          {error}\n        </Alert>\n      </Snackbar>\n    </Container>\n  );\n};\n\nexport default ChatWindow;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}